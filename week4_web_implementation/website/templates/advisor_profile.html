{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-center py-4">
    <div class="ios-card" style="width: 100%; max-width: 700px;">
        
        <div class="d-flex align-items-center gap-4 border-bottom pb-4 mb-4">
            <div class="position-relative">
                <div class="bg-success bg-opacity-10 text-success rounded-circle d-flex align-items-center justify-content-center" 
                     style="width: 80px; height: 80px; font-size: 2rem; font-weight: bold;">
                    {{ current_user.advisorName[0] if current_user.advisorName else 'A' }}
                </div>
                <div class="position-absolute bottom-0 end-0 bg-white rounded-circle shadow-sm p-1 border" style="width: 28px; height: 28px; display: grid; place-items: center;">
                    <i class="bi bi-pencil-fill" style="font-size: 10px; color: var(--text-muted);"></i>
                </div>
            </div>
            <div>
                <h2 class="mb-0">Advisor Profile</h2>
                <p class="text-muted mb-0">Manage your contact info and availability.</p>
            </div>
        </div>

        <form method="POST">
            <h5 class="mb-3 fw-bold text-dark">Professional Details</h5>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Full Name</label>
                    <input type="text" name="name" class="form-control"
                           value="{{ current_user.advisorName }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Role / Department</label>
                    <input type="text" name="role" class="form-control"
                           value="{{ current_user.advisorRole }}" placeholder="e.g. Science Dept Head">
                </div>
            </div>

            <div class="mb-4">
                <label class="form-label">Email Address</label>
                <input type="email" name="email" class="form-control"
                       value="{{ current_user.advisorEmail }}" required>
            </div>

            <hr class="border-light my-4">

            <h5 class="mb-3 fw-bold text-dark">Availability</h5>
            <div class="mb-4">
                <label class="form-label">Available Schedule</label>
                <textarea name="schedule" class="form-control" rows="3" placeholder="e.g. Mon/Wed 2pm-4pm">{{ current_user.availableSchedule }}</textarea>
                <div class="form-text">
                    <i class="bi bi-info-circle me-1"></i>
                    This will be visible to students when they request your mentorship.
                </div>
            </div>

            <hr class="border-light my-4">

            <h5 class="mb-3 fw-bold text-dark">Security</h5>
            <div class="mb-4">
                <label class="form-label">New Password</label>
                <div class="input-group">
                    <input type="password" name="password" class="form-control border-end-0" placeholder="Leave blank to keep current password">
                    <span class="input-group-text bg-white border-start-0 text-muted">
                        <i class="bi bi-lock"></i>
                    </span>
                </div>
            </div>

            <div class="d-flex justify-content-end gap-2">
                <a href="{{ url_for('advisor.dashboard') }}" class="btn btn-secondary btn-ios">Cancel</a>
                <button type="submit" class="btn btn-primary btn-ios px-4">Save Changes</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}