{% extends "base.html" %}
{% block content %}
<h2>Admin - Advisors</h2>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Status</th>
      <th>Admin?</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for a in advisors %}
    <tr>
      <td>{{ a.advisorID }}</td>
      <td>{{ a.advisorName }}</td>
      <td>{{ a.advisorEmail }}</td>
      <td>{{ a.advisorRole }}</td>
      <td>{{ a.status }}</td>
      <td>{{ 'Yes' if a.is_admin else 'No' }}</td>
      <td>
        <form method="POST" action="{{ url_for('admin.advisors_update_status', id=a.advisorID) }}" class="d-flex gap-1">
          <select name="status" class="form-select form-select-sm">
            <option value="Pending"  {% if a.status == 'Pending' %}selected{% endif %}>Pending</option>
            <option value="Approved" {% if a.status == 'Approved' %}selected{% endif %}>Approved</option>
            <option value="Rejected" {% if a.status == 'Rejected' %}selected{% endif %}>Rejected</option>
          </select>
          <div class="form-check ms-2">
            <input class="form-check-input" type="checkbox" name="make_admin" id="adm{{ a.advisorID }}" {% if a.is_admin %}checked{% endif %}>
            <label class="form-check-label" for="adm{{ a.advisorID }}">Admin</label>
          </div>
          <button class="btn btn-sm btn-primary ms-2">Save</button>
        </form>
        <a href="{{ url_for('admin.advisors_delete', id=a.advisorID) }}" class="btn btn-sm btn-danger mt-1">Delete</a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
