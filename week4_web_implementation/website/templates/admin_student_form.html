{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-center py-4">
    <div class="ios-card" style="width: 100%; max-width: 700px;">
        
        <!-- Header -->
        <div class="d-flex align-items-center gap-4 border-bottom pb-4 mb-4">
            <div class="position-relative">
                <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center" 
                     style="width: 72px; height: 72px; font-size: 1.8rem;">
                    {% if student %}
                        {{ student.studentFirstName[0] }}{{ student.studentLastName[0] }}
                    {% else %}
                        <i class="bi bi-person-plus-fill"></i>
                    {% endif %}
                </div>
            </div>
            <div>
                <h2 class="mb-1">{{ 'Edit Student' if student else 'Add New Student' }}</h2>
                <p class="text-muted mb-0">
                    {% if student %}
                        Update details for student ID: #{{ student.studentID }}
                    {% else %}
                        Create a new student profile manually.
                    {% endif %}
                </p>
            </div>
        </div>

        <form method="POST">
            <!-- Personal Information -->
            <h5 class="mb-3 fw-bold text-dark">Personal Information</h5>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">First Name</label>
                    <input type="text" name="first_name" class="form-control" 
                           value="{{ student.studentFirstName if student else '' }}" required placeholder="e.g. John">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Last Name</label>
                    <input type="text" name="last_name" class="form-control" 
                           value="{{ student.studentLastName if student else '' }}" required placeholder="e.g. Doe">
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" name="email" class="form-control" 
                       value="{{ student.studentEmail if student else '' }}" required placeholder="student@school.edu">
            </div>

            <!-- Academic & Contact -->
            <h5 class="mb-3 fw-bold text-dark mt-4">Academic & Contact</h5>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Year / Grade</label>
                    <input type="number" name="year" class="form-control" 
                           value="{{ student.studentYear if student else '' }}" placeholder="e.g. 2025">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Phone Number</label>
                    <input type="text" name="phone" class="form-control" 
                           value="{{ student.phoneNumber if student else '' }}" placeholder="+1 (555) 000-0000">
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Address</label>
                <input type="text" name="address" class="form-control" 
                       value="{{ student.studentAddress if student else '' }}" placeholder="Full address...">
            </div>

            <!-- Security (Only shows when creating a new student or optional for edit logic if you add it later) -->
            {% if not student %}
            <hr class="border-light my-4">
            <h5 class="mb-3 fw-bold text-dark">Security</h5>
            <div class="mb-4">
                <label class="form-label">Temporary Password</label>
                <div class="input-group">
                    <input type="password" name="password" class="form-control border-end-0" placeholder="Create a password">
                    <span class="input-group-text bg-white border-start-0 text-muted">
                        <i class="bi bi-lock"></i>
                    </span>
                </div>
                <div class="form-text">The student can change this later from their profile.</div>
            </div>
            {% endif %}

            <!-- Actions -->
            <div class="d-flex justify-content-end gap-2 mt-4 pt-2 border-top">
                <a href="{{ url_for('admin.students_list') }}" class="btn btn-secondary btn-ios">Cancel</a>
                <button type="submit" class="btn btn-primary btn-ios px-4">Save Student</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}